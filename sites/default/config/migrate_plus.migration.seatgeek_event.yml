uuid: 6aeefa3b-b304-465b-b40b-ad53291d9dfb
langcode: en
status: true
dependencies:
  enforced:
    module:
      - migrate_plus
      - seatgeek_import
id: seatgeek_event
class: null
field_plugin_method: null
cck_plugin_method: null
migration_tags: null
migration_group: seatgeek
label: 'Event migration'
source:
  plugin: seatgeek_event
  data_fetcher_plugin: http
  data_parser_plugin: seatgeek_xml
  urls: 'https://tickets.ticket.com'
  item_selector: /feed/Show
  fields:
    -
      name: event_id
      label: 'Event ID'
      selector: ID
    -
      name: event_title
      label: Title
      selector: Name
    -
      name: event_date_from
      label: 'Event date from'
      selector: 'events/Event[1]/ActualEventDate'
    -
      name: event_date_to
      label: 'Event date to'
      selector: 'events/Event[last()]/ActualEventDate'
    -
      name: event_image
      label: Thumbnail
      selector: ImageUrl
    -
      name: Attributes
      label: Attributes
      selector: ShowExtraProperties
    -
      name: venue
      label: Venue
      selector: 'events/Event[last()]/HallName'
  ids:
    event_id:
      type: int
process:
  type:
    plugin: default_value
    default_value: event
  title: event_title
  field_venue:
    plugin: entity_lookup
    bundle: venue
    source: venue
  field_seatgeek_event_id: event_id
  field_run_date:
    plugin: seatgeek_date_range
    source:
      - event_date_from
      - event_date_to
  sticky:
    plugin: default_value
    default_value: 0
destination:
  plugin: 'entity:node'
migration_dependencies: null
